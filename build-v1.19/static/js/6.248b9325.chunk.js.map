{"version":3,"sources":["store/dei/index.js","helper/web3.js","components/App/Migrator/MultipleBox.jsx","components/App/Migrator/SwapAction.jsx","components/App/Migrator/DeusV2Tokens.jsx","components/App/Migrator/MigrationTitle.jsx","components/App/Migrator/index.jsx","constant/migration.js","components/App/Migrator/SelectBox.jsx","components/App/Migrator/MigrateChains.jsx","helper/migrationHelper.js","hooks/useMigrate.js"],"names":["collatRatioState","atom","key","default","deiPricesState","selector","coolDownState","availableRecollatState","husdPoolDataState","SendWithToast","fn","payload","chainId","message","hash","send","once","tx","CustomTransaction","TransactionState","LOADING","SUCCESS","FAILED","doSignTypedData","time","dataToSign","account","web3","Promise","resolve","currentProvider","sendAsync","from","id","jsonrpc","method","params","error","result","console","log","doPersonalSignTypedData","utils","toHex","PlusImg","styled","img","theme","mediaWidth","upToSmall","PlusImgMid","StakeSpan","span","QuadBox","div","DoubleBox","Wrapper","mt","borderRadius","upToExtraSmall","TokenText","Type","LG","MultipleBox","title","currency","wrongNetwork","fastUpdate","style","width","justifyContent","marginTop","marginLeft","textAlign","fontWeigh","formatBalance3","balance","display","flexDirection","symbol","fromStaking","src","alt","marginRight","errors","WrapActions","ButtonSwap","ButtonSyncActive","bgColor","grad3","text1_2","fontSize","SwapAction","text","swapLoading","migrateList","validNetwork","handleSwap","coolDown","useWeb3React","useState","showWallets","setShowWallets","checkError","parseInt","Object","keys","length","useEffect","active","onClick","addRPC","NameChainId","toUpperCase","fontWeight","position","right","height","MainWrapper","TokensContainer","Token","TokenTextTitle","DeusV2Tokens","config","toggleId","tokens","activeToken","targetToken","to","map","token","index","pointerEvents","amount","opacity","isDU","color","amountDEUS","margin","background","amountUSDC","lineHeight","padding","TitleWrap","TLG","MigrationTitle","alignItems","cursor","viewBox","fill","xmlns","rx","d","stroke","strokeWidth","strokeLinecap","MainDiv","Container","pb","Line","snapShotMaker","snap","MainItemsDiv","NameItemsDiv","row","currRow","ChainId","SelectBox","setCurrRow","rows","validNetworks","open","setOpen","onOutsideClick","SmallWrapper","FlexCenter","SwapNetwork","TitleText","MigrateChains","SyncChainId","setSyncChainId","1","4","137","BASE_URL","BASE_URL2","migrateTX","results","migrationOption","a","migrationContract","getMigrationContract","amounts","expireBlocks","expireBlock","signatures","signature","migrationStatus","i","charAt","toString","BigNumber","toFixed","methods","migrate","signPersonal","requestIds","migrateOption","MIGRATOR_ADDRESS","signMsg","eip712TypedData","types","EIP712Domain","name","type","Message","primaryType","domain","version","verifyingContract","timeStamp","contents","JSON","stringify","getMigrationOption","migratedList","option","getRandomNumber","url","data","address","axios","post","output","randomNumber","response","doMigration","validChainId","isPersonal","signatureType","status","ToastTransaction","autoClose","req1","req2","all","then","spread","responses","oracleResult","oracleResult2","success","MATIC","catch","useMigrate","forceUpdate","useWeb3","setCoolDown","useSetRecoilState","useCallback","getCurrentTimeStamp","requestId1","requestId2","join","match","onMigrate","useUserStatus","userStatus","setUserStatus","web3ETH","useCrossWeb3","ETH","web3Polygon","fastRefresh","useRefresh","ethContract","polygonContract","getUserStatus","usersStatus","call","userETHStatus","userPolygonStatus","padStart","push"],"mappings":"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","file":"static/js/6.248b9325.chunk.js","sourcesContent":["import { atom, selector } from 'recoil';\n\n\nexport const collatRatioState = atom({\n    key: 'collatRatio',\n    default: null,\n});\n\nexport const collatRatioPercent = selector({\n    key: 'collatRatioPercent',\n    default: null,\n});\n\n\nexport const deiPricesState = atom({\n    key: 'deiPrices',\n    default: {},\n});\n\nexport const coolDownState = atom({\n    key: 'coolDown',\n    default: 0,\n});\n\nexport const availableRecollatState = atom({\n    key: 'availableRecollat',\n    default: null,\n});\n\nexport const availableBuybackState = atom({\n    key: 'availableBuyback',\n    default: null,\n});\n\nexport const mintingFeeState = atom({\n    key: 'mintingFee',\n    default: null,\n});\n\nexport const redemptionFeeState = atom({\n    key: 'redemptionFee',\n    default: null,\n});\n\nexport const buyBackFeeState = atom({\n    key: 'buyBackFee',\n    default: null,\n});\n\nexport const recollatFeeState = atom({\n    key: 'recollatFee',\n    default: null,\n});\n\nexport const husdPoolDataState = atom({\n    key: 'husdPoolData',\n    default: {},\n});\n\nexport const APYState = atom({\n    key: 'APY',\n    default: \"\",\n});\n","import { TransactionState } from \"../utils/constant\"\nimport { CustomTransaction, SwapTransaction } from \"../utils/explorers\"\n\nexport const SendWithToast = (fn, payload = {}, chainId, message) => {\n    if (!fn) return\n    let hash = null\n    return fn\n        .send({ ...payload })\n        .once('transactionHash', (tx) => {\n            hash = tx\n            CustomTransaction(TransactionState.LOADING, {\n                hash,\n                chainId: chainId,\n                message: message,\n            })\n        })\n        .once('receipt', () => CustomTransaction(TransactionState.SUCCESS, {\n            hash,\n            chainId: chainId,\n            message: message,\n        }))\n        .once('error', () => CustomTransaction(TransactionState.FAILED, {\n            hash,\n            chainId: chainId,\n            message: message,\n        }))\n}\n\n//WRITE FUNCTIONS\nexport const SwapWithToast = (fn, payload = {}) => {\n    if (!fn) return\n    const { params, from, to, chainId } = payload\n    let hash = null\n    return fn\n        .send({ ...params })\n        .once('transactionHash', (tx) => {\n            hash = tx\n            SwapTransaction(TransactionState.LOADING, { hash, chainId, from, to })\n        })\n        .once('receipt', () => SwapTransaction(TransactionState.SUCCESS, { hash, chainId, from, to }))\n        .once('error', () => SwapTransaction(TransactionState.FAILED, { hash, chainId, from, to }))\n}\n\n\nexport function doSignTypedData(time, dataToSign, account, web3) {\n    return new Promise(resolve => {\n        web3.currentProvider.sendAsync({\n            from: account,\n            id: time,\n            jsonrpc: \"2.0\",\n            method: 'eth_signTypedData_v4',\n            params: [account, dataToSign]\n        }, (error, result) => {\n            if (error) {\n                console.error(error);\n                resolve(false);\n            } else if (result.error) {\n                console.error(result.error.message);\n                resolve(false);\n            } else {\n                console.log(\"Signature: \" + result.result);\n                resolve(result.result);\n            }\n        });\n    });\n}\n\n\nexport function doPersonalSignTypedData(dataToSign, account, web3) {\n    return new Promise(resolve => {\n        web3.currentProvider.sendAsync({\n            from: account,\n            method: 'personal_sign',\n            params: [web3.utils.toHex(dataToSign), account]\n        }, (error, result) => {\n            if (error) {\n                console.error(error);\n                resolve(false);\n            } else if (result.error) {\n                console.error(result.error.message);\n                resolve(false);\n            } else {\n                console.log(\"Signature: \" + result.result);\n                resolve(result.result);\n            }\n        });\n    });\n}","import React from 'react';\nimport { Flex, Box } from 'rebass/styled-components';\nimport styled from 'styled-components';\nimport { formatBalance3 } from '../../../utils/utils';\n// import useCrossTokenBalance from '../../../hooks/useCrossTokenBalance';\nimport { Type } from '../Text';\n\nconst PlusImg = styled.img`\n    z-index: 10;\n    position: absolute;\n    text-align: center;\n    margin-left: 135px;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        display: none;\n    `}\n`\n\nconst PlusImgMid = styled.img`\n    z-index: 1;\n    position: absolute;\n    text-align: center;\n    margin-top: -16px;\n    margin-left: -8px;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        display: none;\n    `}\n`\n\nconst StakeSpan = styled.span`\n    margin-top: 12px;\n    font-size: 10px;\n    opacity: 0.7;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        position: absolute;\n        margin-left: -6px;\n        margin-top: 16px;\n        font-size: 7px;\n    `}\n`\n\nconst QuadBox = styled.div`\n    margin: 25px 0;\n    max-width: 324px;\n    position: relative;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        margin-right: 8px;\n    `}\n`\n\nconst DoubleBox = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 0;\n    margin-left: 20px;\n`\n\nconst Wrapper = styled.div`\n    position: relative;\n    height: 100px;\n    width: 100%;\n    max-width: 180px;\n    margin-top: ${({ mt }) => (mt && mt)};\n    background: #272727;\n    border: 1px solid #000000;\n    border-radius: ${({ borderRadius }) => borderRadius || \"15px\"};\n    margin: 0;\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        font-size: 13px;\n        height: 80px;\n    `}\n`\n\nconst TokenText = styled(Type.LG)`\n    font-weight: 300;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        font-size: 15px;\n    `}\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        font-size: 13px;\n    `}\n`\n\nconst MultipleBox = ({ title, currency, chainId, wrongNetwork, fastUpdate }) => {\n    // const data = useCrossTokenBalance(currency?.address, chainId, fastUpdate)\n    return (<div style={{ width: \"100%\" }}>\n        <QuadBox>\n            <DoubleBox>\n                <Wrapper>\n                    <Flex justifyContent=\"flex-start\" marginTop=\"12px\" marginLeft=\"12px\" textAlign=\"left\" >\n                        <Box>\n                            <TokenText fontWeigh={\"300\"} >\n                                {formatBalance3(currency[0].balance)}\n                            </TokenText>\n                            <TokenText fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\n                                {currency[0].symbol}\n                            </TokenText>\n                            {currency[0].fromStaking > 0 && <StakeSpan fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\n                                Staked:{formatBalance3(currency[0].fromStaking, 4)}\n                            </StakeSpan>}\n                        </Box>\n                    </Flex>\n                </Wrapper>\n\n                {currency[1] && !currency[3] && <PlusImg src=\"/img/dei/plus.svg\" alt=\"plus\" />}\n\n                {currency[1] && <Wrapper>\n                    <Flex textAlign=\"right\" justifyContent=\"flex-end\" marginTop=\"12px\" marginRight=\"12px\" >\n                        <Box>\n                            <TokenText fontWeigh={\"300\"}>\n                                {formatBalance3(currency[1].balance)}\n                            </TokenText>\n                            <TokenText fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\" }}>\n                                {currency[1].symbol}\n                            </TokenText>\n                            {currency[1].fromStaking > 0 && <StakeSpan fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\n                                Staked:{formatBalance3(currency[1].fromStaking, 4)}\n                            </StakeSpan>}\n                        </Box>\n                    </Flex>\n                </Wrapper>}\n            </DoubleBox>\n\n            {currency[3] && <PlusImgMid src=\"/img/dei/plus.svg\" alt=\"plus\" />}\n\n            <DoubleBox>\n                {currency[2] && <Wrapper>\n                    <Flex textAlign=\"left\" justifyContent=\"flex-start\" marginTop=\"12px\" marginLeft=\"12px\" >\n                        <Box>\n                            <TokenText fontWeigh={\"300\"}>\n                                {formatBalance3(currency[2].balance)}\n                            </TokenText>\n                            <TokenText fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\n                                {currency[2].symbol}\n                            </TokenText>\n                            {currency[2].fromStaking > 0 && <StakeSpan fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\n                                Staked:{formatBalance3(currency[2].fromStaking, 4)}\n                            </StakeSpan>}\n                        </Box>\n                    </Flex>\n                </Wrapper>}\n\n                {currency[3] && !currency[3] && <PlusImg src=\"/img/dei/plus.svg\" alt=\"plus\" />}\n\n                {currency[3] && <Wrapper>\n                    <Flex textAlign=\"right\" justifyContent=\"flex-end\" marginTop=\"12px\" marginRight=\"12px\" >\n                        <Box>\n                            <TokenText fontWeigh={\"300\"}>\n                                {formatBalance3(currency[3].balance)}\n                            </TokenText>\n                            <TokenText fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\" }}>\n                                {currency[3].symbol}\n                            </TokenText>\n                            {currency[3].fromStaking > 0 && <StakeSpan fontWeigh={\"300\"} style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-start\" }}>\n                                Staked:{formatBalance3(currency[3].fromStaking, 4)}\n                            </StakeSpan>}\n                        </Box>\n                    </Flex>\n                </Wrapper>}\n            </DoubleBox>\n        </QuadBox>\n    </div >\n    );\n}\n\nexport default MultipleBox;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components'\nimport { ButtonSyncDeactivated, ButtonSyncActive } from '../Button';\nimport { useWeb3React } from '@web3-react/core';\nimport Wallets from '../../common/Navbar/Wallets';\nimport { addRPC } from '../../../services/addRPC';\nimport { NameChainId } from '../../../constant/web3';\n\nconst errors = {\n    NotConnected: \"CONNECT WALLET\",\n    WrongNetwork: \"WRONG NETWORK\",\n    SelectTokens: \"SELECT TOKENS\",\n    CoolDown: \"*COOLDOWN\",\n}\n\nconst WrapActions = styled.div`\n    margin: 24px;\n    height: \"55px\";\n    display:flex;\n    font-size:20px;\n    font-family:\"Monument Grotesk Semi\";\n    & > button {\n        margin:0px 5px;\n    }\n`\nconst ButtonSwap = styled(ButtonSyncActive)`\n  background: ${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3};\n  color: ${({ theme }) => theme.text1_2};\n  font-size:${({ fontSize }) => fontSize || \"20px\"};\n`\nconst SwapAction = ({ text = \"SWAP\", swapLoading = false, migrateList, validNetwork, handleSwap, coolDown, bgColor }) => {\n\n    const { account, chainId } = useWeb3React()\n    const [showWallets, setShowWallets] = useState(false)\n\n    const checkError = () => {\n        // if (chainId && validNetworks.indexOf(chainId) === -1) return errors.WrongNetwork\n        if (parseInt(coolDown) !== 0) return errors.CoolDown + \" : \" + coolDown + \" s\"\n        if (Object.keys(migrateList).length === 0) return errors.SelectTokens\n        return null;\n    }\n\n    useEffect(() => {\n        if (account)\n            setShowWallets(false)\n    }, [account])\n\n    if (!account) {\n        return <WrapActions>\n            <Wallets showWallets={showWallets} setShowWallets={setShowWallets} />\n            <ButtonSwap bgColor={bgColor} active={true} onClick={() => setShowWallets(true)}>\n                CONNECT WALLET\n            </ButtonSwap>\n        </WrapActions>\n    }\n    if (chainId && chainId !== validNetwork) {\n        return <WrapActions>\n            <Wallets showWallets={showWallets} setShowWallets={setShowWallets} />\n            <ButtonSwap bgColor={bgColor} active={true} onClick={() => addRPC(account, validNetwork)}>\n                SWITCH TO {NameChainId[validNetwork].toUpperCase()}\n            </ButtonSwap>\n        </WrapActions>\n    }\n\n\n    if (checkError()) {\n        return <WrapActions>\n            <ButtonSyncDeactivated style={{ fontWeight: \"300\" }} >{checkError()}</ButtonSyncDeactivated>\n        </WrapActions>\n    }\n    return (<>\n        <WrapActions>\n            <ButtonSwap active={true} fontSize={\"25px\"} onClick={handleSwap} style={{ fontWeight: \"300\" }} bgColor={bgColor}>{text}\n                {swapLoading && <img style={{ position: \"absolute\", right: \"10px\" }} alt=\"sp\" src=\"/img/spinner.svg\" width=\"40\" height=\"40\" />}\n            </ButtonSwap>\n        </WrapActions>\n    </>);\n}\n\nexport default SwapAction;","import React from 'react';\nimport styled from 'styled-components';\nimport { formatBalance3 } from '../../../utils/utils';\nimport { Type } from '../Text';\n\nexport const MainWrapper = styled.div`\n   width: 95%;\n   max-width: 300px;\n   background: #0D0D0D;\n   ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        max-width: 160px;\n    `}\n`\n\nexport const TokensContainer = styled.div`\n    padding: 15px 0;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        margin-left: 8px;\n        margin-right: 8px;\n    `}\n`\n\nexport const Token = styled.div`\n    display: flex;\n    text-align: center;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin:10px auto;\n    font-size: 20px;\n    color: rgba(255, 255, 255, 0.25);\n    background: ${({ active }) => active ? \"#0FB4F4\" : \"#0d1e25\"};\n    cursor: ${({ active }) => active ? \"default\" : \"pointer\"};\n    border: 1px solid  ${({ active }) => active ? \"#FFFFFF\" : \"transparent\"};\n    border-radius: 15px;\n    width: 250px;\n    height: 100px;\n    &:hover{\n        filter: ${({ active }) => active ? \"brightness(1)\" : \"brightness(1.5)\"};\n    }\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        max-width: 200px;\n    `}\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        max-width: 130px;\n    height: 80px;\n\n    `}\n`\n\nconst TokenText = styled(Type.LG)`\n    font-weight: 300;\n        ${({ theme }) => theme.mediaWidth.upToSmall`\n        font-size: 15px;\n    `}\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        font-size: 13px;\n    `}\n`\n\nconst TokenTextTitle = styled(Type.LG)`\n    font-weight: 300;\n    font-size: 17px;\n        ${({ theme }) => theme.mediaWidth.upToSmall`\n        font-size: 13px;\n    `}\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        font-size: 11px;\n    `}\n`\n\n\nconst DeusV2Tokens = ({ config, toggleId, active }) => {\n    const { id, tokens } = config\n    const activeToken = active?.targetToken\n    return (<MainWrapper>\n        <TokensContainer>\n            {tokens.to.map((token, index) => {\n                const active = token.symbol === activeToken\n                return <Token key={token.symbol} active={active} style={{ pointerEvents: token.amount === null && \"none\", opacity: token.amount === null && \"1\" }} onClick={() => toggleId(id, false, token.symbol, index)}>\n                    {token.isDU ? <>\n                        <TokenText fontWeight=\"300\" color={active ? \"#000000\" : \"#49565B\"}>{formatBalance3(token.amountDEUS)}</TokenText>\n                        <TokenTextTitle fontWeight=\"300\" mt=\"0.5\" color={active ? \"#075A7A   \" : \"#49565B\"}>DEUS</TokenTextTitle>\n                        <div style={{ width: \"70%\", height: \"1px\", margin: \"1px 0\", background: \"#1e2b30\" }} />\n                        <TokenText fontWeight=\"300\" color={active ? \"#000000\" : \"#49565B\"}>{formatBalance3(token.amountUSDC)}</TokenText>\n                        <TokenTextTitle fontWeight=\"300\" mt=\"0.5\" color={active ? \"#075A7A   \" : \"#49565B\"}>USDC</TokenTextTitle>\n                    </> :\n                        <div>\n                            {token.amount !== null && <TokenText fontWeight=\"300\" color={active ? \"#000000\" : \"#49565B\"}>{formatBalance3(token.amount)}</TokenText>}\n                            <TokenTextTitle fontWeight=\"300\" mt=\"0.5\" color={active ? \"#075A7A   \" : \"#49565B\"}>{token.symbol}\n                                {token.amount === null && <div\n                                    style={{ background: \"aqua\", height: \"20px\", display: \"inline-block\", lineHeight: \"17px\", padding: \"0 5px\", margin: \"0 0 0 5px\", borderRadius: \"5px\" }}>\n                                    soon </div>}</TokenTextTitle>\n                        </div>}\n                </Token>\n            })}\n\n        </TokensContainer>\n    </MainWrapper>);\n}\n\nexport default DeusV2Tokens;","import React from 'react';\nimport { Type } from '../Text';\nimport styled from 'styled-components'\n\nconst TitleWrap = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-left: 12px;\n    height: 70px;\n    border-bottom: 2px solid #000000;\n    svg{\n        margin: 0 10px;\n    }\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        svg{\n            width:12px;\n            margin:0;\n            margin-right:3px;\n\n        }\n    `}\n\n`\n\nconst TLG = styled(Type.LG)`\n    font-size: 20px;\n    white-space: nowrap;\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n        font-size: 15px;\n    `}\n    ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        font-size: 13px;\n    `}\n`\n\nconst MigrationTitle = ({ config, toggleId, active }) => {\n    const { title, id } = config\n    return (<TitleWrap>\n        <div style={{ display: 'flex', justifyContent: \"flex-start\", alignItems: \"center\", cursor: \"pointer\" }} onClick={() => toggleId(id, active, null, null)}>\n            {active ? <svg width={20} height={20} viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width={20} height={20} rx={3} fill=\"#0FB4F4\" />\n                <path d=\"M7 10.5L8.63082 12.7832C9.04487 13.3628 9.915 13.336 10.2926 12.7319L14.5 6\" stroke=\"white\" strokeWidth={2} strokeLinecap=\"round\" />\n            </svg>\n                :\n                <svg width={20} height={20} viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <rect width={20} height={20} rx={3} fill=\"#CECECE\" />\n                </svg>\n\n            }\n            <TLG color={'secondary'} fontWeight=\"300\">Migrate From: </TLG>\n            <TLG style={{ marginLeft: \"5px\" }} fontWeight=\"300\"> {title.from} </TLG>\n        </div>\n\n        <div style={{ display: 'flex', justifyContent: \"center\", width: \"315px\", textAlign: \"center\" }}>\n            <TLG color={'secondary'} fontWeight=\"300\">To: </TLG>\n            <TLG fontWeight=\"300\" style={{ marginLeft: \"5px\" }}> {title.to} </TLG>\n        </div>\n    </TitleWrap>);\n}\n\nexport default MigrationTitle;","import styled from 'styled-components'\n\nexport const MainWrapper = styled.div`\n   padding-top: 60px;\n   padding-bottom: 30px;\n   text-align:center;\n   max-width: 95%;\n   margin: auto;\n`\n\nexport const MainDiv = styled.div`\n    display: \"flex\";\n    width: \"100%\";\n    align-items: \"center\";\n    margin: \"auto\";\n    justify-content: \"center\";\n    margin: 0 auto;\n    /* ${({ theme }) => theme.mediaWidth.upToSmall`\n        max-width: 450px;\n    `} */\n`\n\nexport const Container = styled.div`\n    margin: 0 auto;\n    width: 100%;\n    max-width: 845px;\n    background: linear-gradient(180deg, #18191D 0%, #18191D 100%);\n    border-radius: 15px;\n    padding-bottom: ${({ pb }) => pb ?? \"0\"} ;\n    overflow: hidden;\n\n`\n\nexport const TokensContainer = styled.div`\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    padding-left: 22px;\n    height: 70px;\n    border: 1px solid #000000;\n`\n\nexport const Token = styled.div`\n    background: #272727;\n    border: 1px solid #000000;\n    box-sizing: border-box;\n    border-radius: 15px;\n    width: 160px;\n    height: 100px;\n`\n\nexport const Line = styled.div`\n    background: ${({ theme, bgColor }) => bgColor ? theme[bgColor] : theme.grad3} ;\n    height: 1px;\n    width: 100%;\n`\n","export const snapShotMaker = (snap) => {\n    const addedBalance = [\n        {\n            id: 0,\n            title: {\n                from: \"DEA , sDEA\",\n                to: \"DEUS V2\"\n            },\n            tokens: {\n                from: [\n                    { symbol: \"DEA\", balance: snap[\"box1_in_DEA\"], fromStaking: snap[\"box1_in_DEA_staking\"] },\n                    { symbol: \"sDEA\", balance: snap[\"box1_in_sDEA\"], fromStaking: snap[\"box1_in_sDEA_staking\"] },\n                ],\n                to: [\n                    { symbol: \"DEUS\", amount: snap[\"box1_out_DEUS\"] },\n                ]\n            }\n        },\n        {\n            id: 1,\n            title: {\n                from: \"DEUS , sDEUS\",\n                to: \"DEUS V2\"\n            },\n            tokens: {\n                from: [\n                    { symbol: \"DEUS\", balance: snap[\"box2_in_DEUS\"], fromStaking: snap[\"box2_in_DEUS_staking\"] },\n                    { symbol: \"sDEUS\", balance: snap[\"box2_in_sDEUS\"], fromStaking: snap[\"box2_in_sDEUS_staking\"] },\n                ],\n                to: [\n                    { symbol: \"DEUS/DEI LP\", amount: snap[\"box2_out_DDLP\"] },\n                    { symbol: \"DEUS\", amount: snap[\"box2_out_DEUS\"] },\n                    { symbol: \"bETH\", amount: null },\n                    { symbol: \"ETH\", amount: null },\n                ]\n            }\n        },\n        {\n            id: 2,\n            title: {\n                from: \"sUNI , BPT\",\n                to: \"DEUS V2\"\n            },\n            tokens: {\n                from: [\n                    { symbol: \"sUNI-DD\", balance: snap[\"box3_in_sUniDD\"] },\n                    { symbol: \"sUNI-DE\", balance: snap[\"box3_in_sUniDE\"] },\n                    { symbol: \"sUNI-DU\", balance: snap[\"box3_in_sUniDU\"] },\n                    { symbol: \"BPT\", balance: snap[\"box3_in_BPT\"], fromStaking: snap[\"box3_in_BPT_staking\"] },\n                ],\n                to: [\n                    { symbol: \"DEUS/DEI LP\", amount: snap[\"box3_out_DDLP\"] },\n                    { symbol: \"DEUS\", amount: snap[\"box3_out_DEUS\"] },\n                ]\n            }\n        },\n        {\n            id: 3,\n            title: {\n                from: \"Uni DEUS/DEA LP\",\n                to: \"DEUS V2\"\n            },\n            tokens: {\n                from: [\n                    { symbol: \"Uni-DEUS/DEA\", balance: snap[\"box4_in_UniDD\"], fromStaking: snap[\"box4_in_UniDD_staking\"] },\n                ],\n                to: [\n                    { symbol: \"DEUS/DEI LP\", amount: snap[\"box4_out_DDLP\"] },\n                    { symbol: \"DEUS\", amount: snap[\"box4_out_DEUS\"] },\n                ]\n            }\n        },\n        {\n            id: 4,\n            title: {\n                from: \"Uni DEA/USDC LP\",\n                to: \"DEUS V2\"\n            },\n            tokens: {\n                from: [\n                    { symbol: \"Uni-DEA/USDC\", balance: snap[\"box5_in_UniDU\"], fromStaking: snap[\"box5_in_UniDU_staking\"] },\n                ],\n                to: [\n                    { symbol: \"DEUS/DEI LP\", amount: snap[\"box5_out_DDLP\"] },\n                    { symbol: \"DEUS\", amount: snap[\"box5_out_DEUS\"] },\n                    { isDU: true, symbol: \"DEUS,USDC\", amountDEUS: snap[\"box5_out_dea->DEUS\"], amountUSDC: snap[\"box5_out_USDC\"] },\n                ]\n            }\n        },\n        {\n            id: 5,\n            title: {\n                from: \"Uni DEUS/ETH LP\",\n                to: \"DEUS V2\"\n            },\n            tokens: {\n                from: [\n                    { symbol: \"Uni-DEUS/ETH\", balance: snap[\"box6_in_UniDE\"], fromStaking: snap[\"box6_in_UniDE_staking\"] },\n                ],\n                to: [\n                    { symbol: \"DEUS/DEI LP\", amount: snap[\"box6_out_DDLP\"], },\n                    { symbol: \"DEUS\", amount: snap[\"box6_out_DEUS\"], },\n                ]\n            }\n        },\n    ]\n\n\n    return addedBalance\n}","import React, { useState } from 'react';\nimport { NameChainId } from '../../../constant/web3';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport styled from 'styled-components'\n\nconst MainItemsDiv = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-top: 10px;\n`\n\nconst NameItemsDiv = styled.div`\n    display: flex;\n    justify-content: center;\n    background: #272727;\n    padding: 8px 16px;\n    margin: 8px;\n    margin-left: 0;\n    font-size: 15px;\n    border-radius: 6px;\n    cursor: pointer;\n    opacity: 0.5;\n    border: 1px solid ${({ row, currRow }) => (row === currRow) ? \"black\" : \"transparent\"};\n    opacity: ${({ row, currRow }) => (row === currRow) && \"1\"};\n    background: ${({ theme, row, currRow }) => (row === currRow) && theme.ChainId[row]};\n`\n\nconst SelectBox = ({ currRow, setCurrRow, validNetworks }) => {\n    const rows = validNetworks\n    const [open, setOpen] = useState(false)\n\n    return (<OutsideClickHandler onOutsideClick={() => { setOpen(false) }}>\n        <MainItemsDiv onClick={() => setOpen(!open)}>\n            {rows.map((row, id) => {\n                return <span key={id} onClick={() => setCurrRow(row)}>\n                    <NameItemsDiv row={row} currRow={currRow}>\n                        {NameChainId[row].toUpperCase()}\n                    </NameItemsDiv>\n                </span>\n            })}\n        </MainItemsDiv>\n    </OutsideClickHandler>\n    );\n}\n\nexport default SelectBox;\n","import React from 'react';\nimport styled from 'styled-components'\nimport SelectBox from './SelectBox';\nimport { FlexCenter } from '../Container';\n\nconst SmallWrapper = styled(FlexCenter)`\n    background-color: #18191D;\n    border-radius: 15px;\n    padding: 0 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    text-align: left;\n`\n\nconst SwapNetwork = styled.div`\n    margin-bottom: 20px;\n    font-size: 12px;\n    font-weight: 400;\n    margin-top: 20px;\n`;\n\nconst TitleText = styled.span`\n    opacity: \"0.5\";\n    font-size: \"12px\";\n`\n\nconst MigrateChains = ({ title, SyncChainId, setSyncChainId, validNetworks }) => {\n    return (\n        <SmallWrapper >\n            <SwapNetwork>\n                <TitleText> {title} </TitleText>\n                <SelectBox currRow={SyncChainId} setCurrRow={setSyncChainId} validNetworks={validNetworks} />\n            </SwapNetwork>\n        </SmallWrapper>\n    );\n}\nexport default MigrateChains\n","import React from 'react';\nimport { MIGRATOR_ADDRESS } from \"../constant/contracts\"\nimport { ToastTransaction } from \"../utils/explorers\"\nimport { doPersonalSignTypedData, doSignTypedData, SendWithToast } from \"./web3\"\nimport axios from \"axios\"\nimport BigNumber from \"bignumber.js\"\nimport { getMigrationContract } from \"./contractHelpers\"\nimport { ChainId } from \"../constant/web3\"\nimport { TransactionState } from \"../utils/constant\"\n\nconst NameChainId = {\n    1: 'ETH Mainnet',\n    4: 'Rinkeby',\n    137: 'Polygon Mainnet'\n}\n\nexport const BASE_URL = 'https://oracle5.deus.finance/migrator' //Main\nexport const BASE_URL2 = 'https://oracle5.deus.finance/migrator2' //Main\n\nexport const migrateTX = async (results, migrationOption, account, chainId, web3) => {\n    const migrationContract = getMigrationContract(web3, chainId)\n    const amounts = results[0].amount\n    const expireBlocks = results.map(result => result.expireBlock)\n    const signatures = results.map(result => result.signature)\n    let migrationStatus = \"\"\n    for (var i = 0; i < migrationOption.length; i++) {\n        migrationStatus += migrationOption.charAt(i) === \"0\" ? \"0\" : \"1\"\n    }\n    migrationStatus = parseInt(migrationStatus, 2).toString()\n    console.log(amounts);\n    console.log(amounts.map(amount => new BigNumber(amount).toFixed(0)),\n        expireBlocks,\n        migrationStatus,\n        signatures);\n\n    const fn = migrationContract\n        .methods\n        .migrate(\n            amounts.map(amount => new BigNumber(amount).toFixed()),\n            expireBlocks,\n            migrationStatus,\n            signatures\n        )\n\n    return SendWithToast(fn, { from: account }, chainId, \"Migrate to \" + NameChainId[chainId])\n}\n\nexport const signPersonal = async (requestIds, migrateOption, time, account, chainId, web3) => {\n    const message = `By signing this, you permit us to do the migration for ${account} from Deus V1 to Deus V2 ecosystem on ${NameChainId[chainId]} with chainID ${chainId} using the migration option ${migrateOption} which you CANNOT use anymore after migration has been completed.\\nTime: ${time}\\nverifyingContract: ${MIGRATOR_ADDRESS[chainId]}\\nRequest ID: ${requestIds}`\n    console.log(message);\n    return doPersonalSignTypedData(message, account, web3)\n}\n\n\n\nexport const signMsg = async (requestIds, migrateOption, time, account, chainId, web3) => {\n    let eip712TypedData = {\n        types: {\n            EIP712Domain: [\n                { name: \"name\", type: \"string\" },\n                { name: \"chainId\", type: \"uint256\" },\n                { \"name\": 'version', \"type\": 'string' },\n                { \"name\": \"verifyingContract\", \"type\": \"address\" }\n            ],\n            Message: [\n                { name: \"from\", type: \"address\" },\n                { name: \"requestIds\", type: \"string\" },\n                { name: \"migrateOption\", type: \"string\" },\n                { name: \"contents\", type: \"string\" },\n                { name: \"timeStamp\", type: \"uint256\" }\n            ]\n        },\n        primaryType: \"Message\",\n        domain: {\n            name: \"Deus Migrate\",\n            chainId: chainId,\n            version: \"1\",\n            verifyingContract: MIGRATOR_ADDRESS[chainId],\n        },\n        message: {\n            from: account,\n            requestIds: requestIds,\n            migrateOption: migrateOption,\n            timeStamp: time,\n            contents: `I'm a user with Wallet address ${account} intending to migrate to ${NameChainId[chainId]} network.`,\n        },\n    }\n\n    console.log(eip712TypedData);\n    let dataToSign = JSON.stringify(eip712TypedData)\n    return doSignTypedData(time, dataToSign, account, web3)\n}\n\nexport const getMigrationOption = (migratedList) => {\n    let option = \"\"\n    for (let i = 0; i < 6; i++) {\n        option += migratedList[i] ? migratedList[i].index : \"0\"\n    }\n    return option\n}\n\n\nexport const getRandomNumber = async (account, url) => {\n    const data = { address: account }\n    try {\n        const output = await axios.post(url + \"/getRandom\", data)\n        return output.data.randomNumber\n    } catch (error) {\n        console.log(\"getRandom failed \", error.response.data);\n    }\n}\n\n\nexport const doMigration = async (requestIds, migrateOption, timeStamp, account, chainId, validChainId = 1, web3, isPersonal) => {\n    if (validChainId !== chainId) return\n    const signature = isPersonal ? await signPersonal(requestIds, migrateOption, timeStamp, account, chainId, web3) : await signMsg(requestIds, migrateOption, timeStamp, account, validChainId, web3)\n    const signatureType = isPersonal ? 1 : 0\n    let status = {}\n    if (!signature) {\n        ToastTransaction(\"warn\", \"Failed to sign\", \"\", { autoClose: true })\n        return\n    } else {\n        console.log(\"signature is \", signature);\n    }\n\n    let data = {\n        requestIds,\n        address: account,\n        signature,\n        chainId: `${validChainId}`,\n        migrateOption,\n        timeStamp,\n        signatureType\n    }\n\n    const req1 = axios.post(BASE_URL + \"/migrate\", data)\n    const req2 = axios.post(BASE_URL2 + \"/migrate\", data)\n\n    status = axios\n        .all([req1, req2])\n        .then(\n            axios.spread(async (...responses) => {\n                const oracleResult = responses[0].data;\n                const oracleResult2 = responses[1].data;\n                if (oracleResult.message) {\n                    ToastTransaction(\"warn\", \"Migration Failed\", oracleResult.message, { autoClose: true })\n                    return { message: oracleResult.message, success: false }\n                }\n                if (oracleResult2.message) {\n                    ToastTransaction(\"warn\", \"Migration Failed\", oracleResult2.message, { autoClose: true })\n                    return { message: oracleResult2.message, success: false }\n                }\n\n                if (validChainId === ChainId.MATIC) {\n                    ToastTransaction(TransactionState.SUCCESS, \"Migration started\", <div>Please allow a few minutes for your new tokens to reflect on the destination chain </div>, { autoClose: true })\n                    return\n                }\n                const tx = await migrateTX([oracleResult, oracleResult2], migrateOption, account, chainId, web3)\n                console.log(tx);\n                // console.log(oracleResult, oracleResult2);\n            })\n\n        )\n        .catch(errors => {\n            //errors.response\n            if (errors.response && errors.response.data.message) {\n                ToastTransaction(\"warn\", \"Migration Failed\", errors.response.data.message, { autoClose: true })\n                status = { message: errors.response.data.message, success: false }\n                return status\n            }\n        });\n    return status\n}","import { useWeb3React } from \"@web3-react/core\"\nimport { useCallback, useEffect, useState } from \"react\"\nimport useWeb3, { useCrossWeb3 } from \"./useWeb3\"\nimport { getCurrentTimeStamp } from '../utils/utils';\nimport { BASE_URL, BASE_URL2, doMigration, getMigrationOption, getRandomNumber } from '../helper/migrationHelper';\nimport { ChainId } from \"../constant/web3\";\nimport { getMigrationContract } from \"../helper/contractHelpers\";\nimport useRefresh from \"./useRefresh\";\nimport { useSetRecoilState } from \"recoil\";\nimport { coolDownState } from \"../store/dei\";\n\nexport const useMigrate = (migrateList, validChainId = 1, forceUpdate, isPersonal = false) => {\n    const { account, chainId } = useWeb3React()\n    const web3 = useWeb3()\n    const setCoolDown = useSetRecoilState(coolDownState)\n\n    const handleSwap = useCallback(async () => {\n        try {\n            if (validChainId && chainId !== validChainId) return false\n            const timeStamp = getCurrentTimeStamp()\n            const migrateOption = getMigrationOption(migrateList)\n            const requestId1 = await getRandomNumber(account, BASE_URL)\n            const requestId2 = await getRandomNumber(account, BASE_URL2)\n\n            const status = await doMigration([requestId1, requestId2].join(\",\"), migrateOption, timeStamp, account, chainId, validChainId, web3, isPersonal)\n            console.log(timeStamp);\n            console.log(parseInt(status.message.match(/(\\d+)/)[0]) + timeStamp);\n            if (!status.success) {\n                setCoolDown(parseInt(status.message.match(/(\\d+)/)[0]) + timeStamp)\n            }\n\n        } catch (e) {\n            console.log(e);\n            return false\n        }\n        // eslint-disable-next-line\n    }, [migrateList, account, chainId, validChainId, setCoolDown, web3, forceUpdate])\n\n    return { onMigrate: handleSwap }\n}\n\n\nexport const useUserStatus = (account) => {\n    const [userStatus, setUserStatus] = useState(null)\n    const web3ETH = useCrossWeb3(ChainId.ETH)\n    const web3Polygon = useCrossWeb3(ChainId.MATIC)\n    const { fastRefresh } = useRefresh()\n\n    const ethContract = getMigrationContract(web3ETH, ChainId.ETH)\n    const polygonContract = getMigrationContract(web3Polygon, ChainId.MATIC)\n\n    useEffect(() => {\n        const getUserStatus = async (account) => {\n            let userETHStatus = await ethContract.methods.usersStatus(account).call()\n            let userPolygonStatus = await polygonContract.methods.usersStatus(account).call()\n            if (!userETHStatus || !userPolygonStatus) return\n\n            userETHStatus = parseInt(userETHStatus).toString(2).padStart(6, \"0\")\n            userPolygonStatus = parseInt(userPolygonStatus).toString(2).padStart(6, \"0\")\n            // console.log(userETHStatus, userPolygonStatus);\n\n            let status = []\n            for (var i = 0; i < 6; i++) {\n                if (userETHStatus.charAt(i) !== \"0\" || userPolygonStatus.charAt(i) !== \"0\") {\n                    status.push(i)\n                }\n            }\n            // console.log(status);\n            setUserStatus(status)\n        }\n        if (account && ethContract && polygonContract) {\n            getUserStatus(account)\n        }\n        // eslint-disable-next-line\n    }, [account, fastRefresh])//ethContract,polygonContract TODO\n    return userStatus\n}"],"sourceRoot":""}